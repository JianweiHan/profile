<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"></meta>
    <title>Group **: Profile</title>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script type="text/javascript" th:inline="javascript">
        /*<![CDATA[*/

        $(document).ready(function(){
            $("p").click(function(){
                $(this).hide();
            });
        });

        function redirect()
        {
            var url = "/profile";
            console.log(3434);
            console.log(document.getElementById("myForm").elements.length);
            console.log(document.getElementById("lastName").value);
            console.log(document.getElementById("userId").textContent);

            $.ajax({
                url: '/profile/'+document.getElementById("userId").textContent,
                type: 'DELETE',
                success: function(result) {
                    window.location.replace("/profile");
                }
            });

            //window.location(url);
        }
        /*]]>*/
    </script>

</head>
<body>
First Name: <span th:text="${profile.lastname}"></span><br/>
<form action="#" data-th-action="@{/action/edit}" data-th-object="${model}" method="post">
    <button type="submit" name="action" value="save">update</button>
    <button type="submit" name="action" value="cancel">delete</button>
</form>
<h2>Profile</h2>
<form id="myForm" action="#" th:action="@{/profile/{id}(id=${profile.id})}" th:object="${profile}" method="post">
    <p>UserID: <span id="userId" th:text="${profile.id}"></span></p>
    <p>First Name: <input id="firstName" type="text" th:field="*{firstname}" /></p>
    <p>Last Name: <input id="lastName" type="text" th:field="*{lastname}" /></p>
    <p>Email: <input id="email" type="text" th:field="*{email}" /></p>
    <p>Address: <input id="address" type="text" th:field="*{address}" /></p>
    <p>Organization: <input id="organization" type="text" th:field="*{organization}" /></p>
    <p>About Myself: <input id="aboutMyself" type="text" th:field="*{aboutMyself}" /></p>
    <p>
        <button type="submit" name="action" value="update">Update</button>
        <button type="submit" name="action" value="delete">Delete</button>
    </p>
</form>
<button name="redirect" onClick="redirect()">Redirect</button>

<form id="myForm2" action="#" th:action="@{/profile/{id}(id=${profile.id})}" th:object="${profile}" method="delete">
    <p>UserID: <span id="userId2" th:text="${profile.id}"></span></p>
    <p>
        <button type="submit" name="action" value="update">Update</button>
        <button type="submit" name="action" value="delete">Delete</button>
    </p>
</form>

<p>If you click on me, I will disappear.</p>
<p>Click me away!</p>
<p>Click me too!</p>
</body>

</html>